const _0x1c0bac=_0xc3b0;(function(_0x26c6b0,_0x5b3d1b){const _0x4cfaff=_0xc3b0,_0x407fa5=_0x26c6b0();while(!![]){try{const _0xdd595a=-parseInt(_0x4cfaff(0x1c0))/0x1+parseInt(_0x4cfaff(0x1fc))/0x2*(-parseInt(_0x4cfaff(0x1e3))/0x3)+parseInt(_0x4cfaff(0x1b1))/0x4*(parseInt(_0x4cfaff(0x213))/0x5)+parseInt(_0x4cfaff(0x1b8))/0x6+parseInt(_0x4cfaff(0x1f5))/0x7+-parseInt(_0x4cfaff(0x23d))/0x8+parseInt(_0x4cfaff(0x208))/0x9;if(_0xdd595a===_0x5b3d1b)break;else _0x407fa5['push'](_0x407fa5['shift']());}catch(_0x309873){_0x407fa5['push'](_0x407fa5['shift']());}}}(_0x4a76,0xca97e));const system=require('./lib/system'),thiIsADemo=![],{app,BrowserWindow,dialog,ipcMain}=require(_0x1c0bac(0x1ac)),express=require(_0x1c0bac(0x182)),morgan=require(_0x1c0bac(0x1fe)),{engine}=require(_0x1c0bac(0x20c)),multer=require(_0x1c0bac(0x1c4)),flash=require(_0x1c0bac(0x194)),session=require('express-session'),passport=require('passport'),{database}=require(_0x1c0bac(0x200)),{v4:uuid}=require(_0x1c0bac(0x1e9)),path=require(_0x1c0bac(0x1b3)),{RecaptchaV2}=require(_0x1c0bac(0x19d)),nodePersist=require(_0x1c0bac(0x18d));nodePersist[_0x1c0bac(0x203)]({'dir':path[_0x1c0bac(0x1b6)](__dirname,_0x1c0bac(0x1db))});async function initialize_software(){const _0x1b2587=_0x1c0bac,_0x1eca74=await nodePersist[_0x1b2587(0x1b2)]('installToken');!_0x1eca74&&await nodePersist[_0x1b2587(0x212)]('installToken','false');}async function the_software_have_a_token(){const _0x5e0ee3=_0x1c0bac,_0x440e95=await nodePersist[_0x5e0ee3(0x1b2)](_0x5e0ee3(0x244));if(!_0x440e95)return![];return _0x440e95!='false';}async function create_expiration_date_of_the_token(_0x2e5e1d){const _0x130db0=_0x1c0bac,_0xdaf2fa=await nodePersist[_0x130db0(0x1b2)](_0x130db0(0x193));!_0xdaf2fa&&await nodePersist['set'](_0x130db0(0x193),_0x2e5e1d);}async function token_expired(){const _0x2643a0=_0x1c0bac,_0x9d9661=await nodePersist[_0x2643a0(0x1b2)]('expirationDateOFTheToken'),_0x2d49af=new Date(_0x9d9661),_0x1e073c=new Date();return _0x1e073c<_0x2d49af;}async function remove_install_token(){const _0x540531=_0x1c0bac;await nodePersist['removeItem'](_0x540531(0x244)),await nodePersist[_0x540531(0x22d)](_0x540531(0x193)),console[_0x540531(0x18f)](_0x540531(0x22b));}async function initialize_token(_0x46d448){const _0x215f42=_0x1c0bac,_0x1d351d=await nodePersist[_0x215f42(0x1b2)](_0x215f42(0x244));await nodePersist[_0x215f42(0x212)](_0x215f42(0x244),_0x46d448);}async function initialize_demo(){const _0x174d77=_0x1c0bac,_0x157d64=await nodePersist[_0x174d77(0x1b2)]('installDemo');if(!_0x157d64){const _0x54254b=new Date()[_0x174d77(0x1c2)]();await nodePersist[_0x174d77(0x212)](_0x174d77(0x1c3),_0x54254b),console[_0x174d77(0x18f)]('Fecha\x20de\x20instalación\x20guardada:',_0x54254b);}else console[_0x174d77(0x18f)](_0x174d77(0x1a8),_0x157d64);}async function is_demo_expired(){const _0x41bfc0=_0x1c0bac,_0x36064f=await nodePersist[_0x41bfc0(0x1b2)](_0x41bfc0(0x19c));if(!_0x36064f)return console[_0x41bfc0(0x18f)](_0x41bfc0(0x247)),![];const _0x3d1a5a=new Date(_0x36064f),_0x2ac394=new Date(),_0x165046=_0x2ac394-_0x3d1a5a,_0x41033d=_0x165046/(0x3e8*0x3c*0x3c*0x18);return _0x41033d>0x1e?(console[_0x41bfc0(0x18f)](_0x41bfc0(0x20f)),!![]):(console[_0x41bfc0(0x18f)](_0x41bfc0(0x223)),![]);}async function this_software_count_have_a_count(){}async function the_user_have_a_token_active_in_the_database(){}async function verify_membership_of_user(){initialize_software();if(await the_software_have_a_token())return await token_expired();return![];}const simpleGit=require('simple-git'),fs=require('fs'),repoPath=path[_0x1c0bac(0x1b6)](__dirname),git=simpleGit(repoPath),repoURL=_0x1c0bac(0x21f),remote=_0x1c0bac(0x24b);git[_0x1c0bac(0x196)](remote,repoURL)['then'](()=>{const _0x129d5e=_0x1c0bac;console[_0x129d5e(0x18f)](_0x129d5e(0x1d9));})[_0x1c0bac(0x1d7)](_0x2a777b=>{const _0x3a0f84=_0x1c0bac;console['error'](_0x3a0f84(0x18a),_0x2a777b);});async function check_if_exist_updates(){const _0x6939b7=_0x1c0bac;try{await git[_0x6939b7(0x1cf)](remote);const _0x39edc6=await git[_0x6939b7(0x18f)]([remote+_0x6939b7(0x228),'-1']),_0x4d5afc=await git['log']([_0x6939b7(0x1e2),'-1']);_0x39edc6[_0x6939b7(0x1ab)][_0x6939b7(0x210)]!==_0x4d5afc[_0x6939b7(0x1ab)][_0x6939b7(0x210)]?(console[_0x6939b7(0x18f)](_0x6939b7(0x180)),await git[_0x6939b7(0x1f8)](['reset','--hard',remote+'/main']),await git[_0x6939b7(0x1b7)](_0x6939b7(0x24b),_0x6939b7(0x1aa),{'--rebase':null}),dialog[_0x6939b7(0x24f)]({'type':'info','title':_0x6939b7(0x215),'message':_0x6939b7(0x21d),'buttons':[_0x6939b7(0x238)]}),app[_0x6939b7(0x217)](),app[_0x6939b7(0x17d)]()):console[_0x6939b7(0x18f)](_0x6939b7(0x222));}catch(_0x48e683){const _0x2bd524=path[_0x6939b7(0x1b6)](__dirname,'logfile.txt');fs[_0x6939b7(0x191)](_0x2bd524,'Error\x20verificando\x20actualizaciones:\x20'+_0x48e683['message']+'\x0a'+_0x48e683[_0x6939b7(0x21a)]+'\x0a\x0a',_0x6939b7(0x233)),console[_0x6939b7(0x20b)]('❌\x20Error\x20verificando\x20actualizaciones:',_0x48e683),dialog[_0x6939b7(0x24f)]({'type':'warning','title':'Error\x20verificando\x20actualizaciones!','message':_0x6939b7(0x1ba)+_0x48e683[_0x6939b7(0x1f9)]+'\x0a'+_0x48e683[_0x6939b7(0x21a)]+'\x0a\x0a'});}}const serverExpress=express();require(_0x1c0bac(0x1d0)),require('./lib/editFrom'),serverExpress['set'](_0x1c0bac(0x1eb),process[_0x1c0bac(0x1b0)][_0x1c0bac(0x1de)]||0xfa0),serverExpress[_0x1c0bac(0x212)]('views',path[_0x1c0bac(0x1b6)](__dirname,'views')),serverExpress[_0x1c0bac(0x17e)](_0x1c0bac(0x1c5),engine({'defaultLayout':_0x1c0bac(0x1aa),'layoutsDir':path[_0x1c0bac(0x1b6)](serverExpress[_0x1c0bac(0x1b2)](_0x1c0bac(0x1e4)),_0x1c0bac(0x226)),'partialsDir':path[_0x1c0bac(0x1b6)](serverExpress[_0x1c0bac(0x1b2)](_0x1c0bac(0x1e4)),_0x1c0bac(0x22f)),'extname':_0x1c0bac(0x1c5),'helpers':require(_0x1c0bac(0x236))})),serverExpress[_0x1c0bac(0x212)](_0x1c0bac(0x216),_0x1c0bac(0x1c5)),require(_0x1c0bac(0x198))[_0x1c0bac(0x24c)]();const {APP_PG_USER,APP_PG_HOST,APP_PG_DATABASE,APP_PG_PASSWORD,APP_PG_PORT,TOKEN}=process['env'],pg=require('pg'),adminPool=new pg[(_0x1c0bac(0x1a4))]({'user':APP_PG_USER,'host':APP_PG_HOST,'password':APP_PG_PASSWORD,'port':APP_PG_PORT,'database':'postgres'}),importSQLFile=async _0x16c733=>{const _0x5c3e62=_0x1c0bac,_0x166b35=path['join'](__dirname,_0x5c3e62(0x187),_0x5c3e62(0x1bd)),_0x3b21e9=fs['readFileSync'](_0x166b35,_0x5c3e62(0x233)),_0x4b588d=_0x3b21e9[_0x5c3e62(0x19e)](/;\s*$/m)[_0x5c3e62(0x21e)](_0xa7e505=>_0xa7e505[_0x5c3e62(0x241)]())['filter'](_0x31a562=>_0x31a562[_0x5c3e62(0x1d6)]>0x0),_0x5d19cb=await _0x16c733[_0x5c3e62(0x23f)]();try{for(const _0x56769d of _0x4b588d){await _0x5d19cb['query'](_0x56769d);}console[_0x5c3e62(0x18f)](_0x5c3e62(0x1b5));}catch(_0x419ad6){console['error'](_0x5c3e62(0x248),_0x419ad6[_0x5c3e62(0x1f9)]);}finally{_0x5d19cb[_0x5c3e62(0x20e)]();}},createDatabase=async()=>{const _0xe29242=_0x1c0bac,_0x300f08=await adminPool[_0xe29242(0x1cb)]('SELECT\x201\x20FROM\x20pg_database\x20WHERE\x20datname\x20=\x20\x27edplus\x27');_0x300f08[_0xe29242(0x192)]===0x0?(await adminPool[_0xe29242(0x1cb)](_0xe29242(0x204)),importSQLFile(adminPool),console[_0xe29242(0x18f)]('📦\x20Base\x20de\x20datos\x20EDPLUS\x20creada')):console[_0xe29242(0x18f)]('📂\x20La\x20base\x20de\x20datos\x20EDPLUS\x20ya\x20existe,\x20no\x20se\x20creó\x20nuevamente.');};createDatabase();const pgPool=new pg[(_0x1c0bac(0x1a4))]({'user':APP_PG_USER,'host':APP_PG_HOST,'database':APP_PG_DATABASE,'password':APP_PG_PASSWORD,'port':APP_PG_PORT});serverExpress[_0x1c0bac(0x219)](session({'secret':'FudSession','resave':![],'saveUninitialized':![],'store':new(require(_0x1c0bac(0x1df))(session))({'pool':pgPool,'tableName':'session'})})),serverExpress[_0x1c0bac(0x219)](flash()),serverExpress[_0x1c0bac(0x219)](morgan('dev')),serverExpress[_0x1c0bac(0x219)](express['urlencoded']({'extended':![]})),serverExpress[_0x1c0bac(0x219)](express[_0x1c0bac(0x1fa)]()),serverExpress[_0x1c0bac(0x219)](passport['initialize']()),serverExpress[_0x1c0bac(0x219)](passport[_0x1c0bac(0x205)]());const storage=multer[_0x1c0bac(0x1d3)]({'destination':path['join'](__dirname,_0x1c0bac(0x1e7)),'filename':(_0x13f7c5,_0x156315,_0x193a18,_0x394fc1)=>{const _0x1e44a4=_0x1c0bac;_0x193a18(null,uuid()+path['extname'](_0x156315[_0x1e44a4(0x22a)]));}});serverExpress[_0x1c0bac(0x219)](multer({'storage':storage})[_0x1c0bac(0x1c7)](_0x1c0bac(0x1c8))),serverExpress['use']((_0x498749,_0x1e2964,_0x3b9bc6)=>{const _0x43258c=_0x1c0bac;serverExpress['locals'][_0x43258c(0x225)]=_0x498749['flash'](_0x43258c(0x225)),serverExpress['locals']['message']=_0x498749[_0x43258c(0x23a)](_0x43258c(0x1f9)),serverExpress[_0x43258c(0x1fd)][_0x43258c(0x20a)]=_0x498749[_0x43258c(0x20a)],serverExpress['locals'][_0x43258c(0x1c1)]=_0x498749[_0x43258c(0x1c1)],serverExpress[_0x43258c(0x1fd)][_0x43258c(0x183)]=0x0,serverExpress[_0x43258c(0x1fd)]['pack_branch']=0x0,_0x3b9bc6();});const http=require(_0x1c0bac(0x235)),server=http[_0x1c0bac(0x19f)](serverExpress),{Server}=require(_0x1c0bac(0x1a3)),io=new Server(server),users={},connectedEmployees={},companyLimitsCache={},chat=require(_0x1c0bac(0x1ec));io['on'](_0x1c0bac(0x1f7),async _0x504112=>{const _0x3736bd=_0x1c0bac;_0x504112['on'](_0x3736bd(0x18b),async(_0x361325,_0x5c314d)=>{const _0x2a9fea=_0x3736bd,_0x242237=connectedEmployees[_0x5c314d]||[],_0x2f3e64=_0x242237[_0x2a9fea(0x1ea)](_0x12cbfa=>_0x12cbfa['userId']===_0x361325);if(_0x2f3e64){_0x504112[_0x2a9fea(0x245)](_0x2a9fea(0x19a),_0x2a9fea(0x1d5));return;}if(system!=_0x2a9fea(0x232)){!companyLimitsCache[_0x5c314d]&&(companyLimitsCache[_0x5c314d]=await chat[_0x2a9fea(0x1f3)](_0x5c314d));const _0x409594=companyLimitsCache[_0x5c314d];if(_0x242237[_0x2a9fea(0x1d6)]>=_0x409594){_0x504112['emit'](_0x2a9fea(0x19a),_0x2a9fea(0x190));return;}}_0x504112[_0x2a9fea(0x202)]=_0x5c314d,_0x242237[_0x2a9fea(0x227)]({'userId':_0x361325,'socketId':_0x504112['id']}),connectedEmployees[_0x5c314d]=_0x242237;const _0x3c0fa8=await chat['get_the_first_notification'](_0x361325,0xa);io['to'](_0x361325)[_0x2a9fea(0x245)]('privateNotifications',{'notifications':_0x3c0fa8});});async function _0x20e61a(_0x4da1f2){const _0x4151fd=users[_0x4da1f2];let _0x195422=_0x4151fd;!_0x4151fd&&(_0x195422=await chat['this_email_exist'](toUserId));const _0x47852d={'canSend':_0x195422,'theUserIsConnect':_0x4151fd};return _0x47852d;}_0x504112['on'](_0x3736bd(0x21b),async({userEmail:_0x4a1a9d,toUserEmail:_0x1ceb9f,message:_0xbe175a})=>{const _0x5eb9e6=_0x3736bd,_0x550953=await _0x20e61a(_0x1ceb9f);_0x550953[_0x5eb9e6(0x1a7)]?await chat[_0x5eb9e6(0x24e)](_0x4a1a9d,_0x1ceb9f,_0xbe175a)?(_0x550953['theUserIsConnect']&&io['to'](recipientSocketId)[_0x5eb9e6(0x245)]('privateMessage',{'userId':userId,'message':_0xbe175a}),_0x504112['emit'](_0x5eb9e6(0x254),{'success':!![],'message':'Mensaje\x20enviado\x20con\x20éxito.\x20👌'})):_0x504112[_0x5eb9e6(0x245)](_0x5eb9e6(0x254),{'success':![],'message':_0x5eb9e6(0x1b4)+_0x1ceb9f+_0x5eb9e6(0x229)}):_0x504112['emit'](_0x5eb9e6(0x254),{'success':![],'message':_0x5eb9e6(0x1a0)+_0x1ceb9f+_0x5eb9e6(0x206)});}),_0x504112['on'](_0x3736bd(0x239),async({userEmail:_0x1fc22e})=>{const _0x6d217b=_0x3736bd,_0x3340eb=await chat['get_the_first_notification'](_0x1fc22e,0xa);io['to'](recipientSocketId)[_0x6d217b(0x245)](_0x6d217b(0x18c),{'notifications':_0x3340eb});}),_0x504112['on'](_0x3736bd(0x209),async({userId:_0x4b4b3e,toUserId:_0x2e6f2e,message:_0x43d671})=>{const _0x7b1a8b=_0x3736bd,_0x17640f=users[_0x2e6f2e];let _0x5e8292=_0x17640f;!_0x17640f&&(_0x5e8292=await chat[_0x7b1a8b(0x250)](_0x2e6f2e));if(_0x5e8292){const _0x21f0e3=await chat[_0x7b1a8b(0x220)](_0x4b4b3e,_0x2e6f2e);await chat[_0x7b1a8b(0x214)](_0x21f0e3,_0x4b4b3e,_0x43d671)&&(_0x17640f&&io['to'](_0x17640f)[_0x7b1a8b(0x245)](_0x7b1a8b(0x1a2),{'userId':_0x4b4b3e,'message':_0x43d671})),_0x504112['emit'](_0x7b1a8b(0x254),{'success':!![],'message':_0x7b1a8b(0x243)});}else _0x504112[_0x7b1a8b(0x245)](_0x7b1a8b(0x254),{'success':![],'message':_0x7b1a8b(0x230)+_0x2e6f2e+_0x7b1a8b(0x1b9)});}),_0x504112['on'](_0x3736bd(0x1dd),()=>{const _0x34d2d2=_0x3736bd,{companyId:_0x3a10a3}=_0x504112;_0x3a10a3&&connectedEmployees[_0x3a10a3]?(connectedEmployees[_0x3a10a3]=connectedEmployees[_0x3a10a3][_0x34d2d2(0x211)](_0x2896b7=>_0x2896b7['socketId']!==_0x504112['id']),connectedEmployees[_0x3a10a3][_0x34d2d2(0x1d6)]===0x0&&delete connectedEmployees[_0x3a10a3]):console[_0x34d2d2(0x18f)](_0x34d2d2(0x1ff)+_0x504112['id']+'\x20desconectado,\x20pero\x20no\x20estaba\x20asociado\x20a\x20ninguna\x20empresa.');}),_0x504112['on'](_0x3736bd(0x1da),_0x3b885a=>{const _0x3f1bb8=_0x3736bd;console[_0x3f1bb8(0x18f)]('Nueva\x20notificación:',_0x3b885a),_0x504112[_0x3f1bb8(0x1bb)][_0x3f1bb8(0x245)](_0x3f1bb8(0x189),_0x3b885a);});});const companyName='/links';serverExpress['use'](require(_0x1c0bac(0x1d8))),serverExpress['use'](require(_0x1c0bac(0x1af))),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x20d))),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x1e0))),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x1ef))),serverExpress['use'](companyName,require(_0x1c0bac(0x207))),serverExpress[_0x1c0bac(0x219)](companyName,require('./router/links/subscription')),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x185))),serverExpress['use'](companyName,require('./router/links/delivery')),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x1c6))),serverExpress[_0x1c0bac(0x219)](companyName,require('./router/links/CRM')),serverExpress[_0x1c0bac(0x219)](companyName,require(_0x1c0bac(0x1f1))),serverExpress[_0x1c0bac(0x219)](companyName,require('./router/links/boutique')),serverExpress[_0x1c0bac(0x219)](companyName,require('./router/links/cashCut')),serverExpress['use'](companyName,require(_0x1c0bac(0x1fb))),serverExpress[_0x1c0bac(0x219)](require(_0x1c0bac(0x1ee))),serverExpress['use'](express['static'](path['join'](__dirname,'public')));const os=require('os');function getLocalIP(){const _0x1655a4=_0x1c0bac,_0x1b2eb4=os[_0x1655a4(0x1dc)]();for(let _0x2560f0 in _0x1b2eb4){for(let _0x5c79bf=0x0;_0x5c79bf<_0x1b2eb4[_0x2560f0][_0x1655a4(0x1d6)];_0x5c79bf++){const _0x14c74a=_0x1b2eb4[_0x2560f0][_0x5c79bf];if(_0x14c74a['family']===_0x1655a4(0x253)&&!_0x14c74a[_0x1655a4(0x246)])return _0x14c74a[_0x1655a4(0x1a6)];}}return _0x1655a4(0x1cc);}const mysql=require(_0x1c0bac(0x1be)),{promisify}=require(_0x1c0bac(0x1f2)),pool=mysql['createPool']({'host':'185.212.71.153','user':_0x1c0bac(0x1f0),'password':_0x1c0bac(0x1c9),'database':_0x1c0bac(0x1f0),'waitForConnections':!![],'connectionLimit':0xa,'queueLimit':0x0});pool[_0x1c0bac(0x184)]((_0x40c3aa,_0x70d7e5)=>{const _0x40eae2=_0x1c0bac;_0x40c3aa&&(_0x40c3aa[_0x40eae2(0x22e)]===_0x40eae2(0x201)&&console[_0x40eae2(0x20b)]('La\x20conexión\x20a\x20la\x20base\x20de\x20datos\x20fue\x20cerrada.'),_0x40c3aa[_0x40eae2(0x22e)]===_0x40eae2(0x23b)&&console[_0x40eae2(0x20b)]('La\x20base\x20de\x20datos\x20tiene\x20muchas\x20conexiones.'),_0x40c3aa[_0x40eae2(0x22e)]==='ECONNREFUSED'&&console[_0x40eae2(0x20b)]('La\x20conexión\x20a\x20la\x20base\x20de\x20datos\x20fue\x20rechazada.'));_0x70d7e5&&(_0x70d7e5[_0x40eae2(0x20e)](),console['log'](_0x40eae2(0x231)));return;}),pool[_0x1c0bac(0x1cb)]=promisify(pool[_0x1c0bac(0x1cb)]);async function get_answer_of_my_api(_0x2fbac1,_0x22c011){const _0xe4074e=_0x1c0bac,_0x41c46e=await axios[_0xe4074e(0x251)]('https://www.pluspuntodeventa.com/api/'+_0x2fbac1,_0x22c011,{'headers':{'Content-Type':_0xe4074e(0x240)}});return _0x41c46e;}let mainWindow,activationWindow,loginWindow;function _0x4a76(){const _0x2e5306=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20','installDemo','express-recaptcha','split','createServer','El\x20usuario\x20\x27','maximize','privateMessage','socket.io','Pool','get_data_of_the_token_with_the_user_id.php','address','canSend','Fecha\x20de\x20instalación\x20existente:','compare','main','latest','electron','hashedPassword','device_id','./router/authentication','env','1488DfUgbV','get','path','No\x20pudimos\x20enviar\x20el\x20mensaje\x20al\x20usuario\x20\x27','✅\x20SQL\x20ejecutado\x20correctamente','join','pull','6657948gilLPX','\x27\x20no\x20existe\x20🤔','Error\x20verificando\x20actualizaciones:\x20','broadcast','answer-from-login-render','edplus.sql','mysql','http://localhost:','16710oAQkdE','company','toISOString','installDate','multer','.hbs','./router/links/app','single','image','Bobesponja48*12456*','listen','query','127.0.0.1','Token\x20no\x20encontrado.','Suscripción\x20expirada.\x20Por\x20favor,\x20vuelve\x20a\x20activar\x20tu\x20membresía.','fetch','./lib/passport','ready','reply','diskStorage','activation_date','Ups,\x20parece\x20que\x20ya\x20estás\x20conectado\x20en\x20otro\x20dispositivo.','length','catch','./router','Repositorio\x20remoto\x20configurado\x20correctamente','sendNotification','data','networkInterfaces','disconnect','PORT','connect-pg-simple','./router/links/fudone','platform','HEAD','1283538mRfyTp','views','loadURL','see_if_exist_this_token_in_the_database_of_the_web.php','public/img/uploads','Error\x20al\x20verificar\x20usuario:','uuid','some','port','./services/chat.js','Este\x20usuario\x20ya\x20tiene\x20un\x20TOKEN\x20registrado\x20en\x20un\x20equipo.','./lib/addFrom','./router/links/ceo','u533061257_admin','./router/links/desktop','util','get_max_employee_of_this_company','login-from-render','7613690rwHNvh','Tu\x20demo\x20de\x2030\x20días\x20ha\x20expirado.\x20Por\x20favor,\x20compra\x20la\x20versión\x20completa\x20y\x20sigue\x20creciendo\x20con\x20ED\x20PLUS\x20🚀.','connection','raw','message','json','./router/links/prescription','4yAEASZ','locals','morgan','Socket\x20','./keys','PROTOCOL_CONNECTION_LOST','companyId','init','CREATE\x20DATABASE\x20edplus','session','\x27\x20no\x20existe.\x20🤔','./router/links/branch','7423020OROEYz','sendMessageToUser','user','error','express-handlebars','./router/links','release','La\x20demo\x20ha\x20expirado.','hash','filter','set','4465gRDURd','send_new_message','Actualización','view\x20engine','relaunch','Usuario\x20no\x20encontrado.','use','stack','sendNotificationToUser','setFullYear','Se\x20ha\x20descargado\x20una\x20nueva\x20versión.\x20Reinicia\x20la\x20aplicación\x20para\x20aplicar\x20los\x20cambios.','map','https://github.com/EduardoMartinez68/VERSIONES_PLUS','create_new_chat','Contraseña\x20incorrecta.','✅\x20La\x20aplicación\x20ya\x20está\x20actualizada.','La\x20demo\x20aún\x20está\x20activa.','update_activation_date.php','success','layouts','push','/main','\x27.\x20Inténtalo\x20de\x20nuevo.\x20😳','originalname','installToken\x20eliminado','setDate','removeItem','code','partials','Este\x20email\x20\x27','Conexión\x20a\x20la\x20base\x20de\x20datos\x20exitosa\x20MYSQL.','desktop','utf8','node-machine-id','http','./lib/handlebars','token','Reiniciar\x20ahora','getTheFirstTenNotifications','flash','ER_CON_COUNT_ERROR','0000-00-00','13216640aDMiWP','answer-from-login-render-token','connect','application/json','trim','password','Mensaje\x20enviado\x20con\x20éxito','installToken','emit','internal','No\x20se\x20encontró\x20la\x20fecha\x20de\x20instalación','❌\x20Error\x20ejecutando\x20SQL:','Usuario\x20autenticado\x20con\x20éxito.','0.0.0.0','origin','config','type_membresy','create_notification','showMessageBoxSync','this_email_exist','post','active','IPv4','messageStatus','quit','engine','getFullYear','🔄\x20Nueva\x20versión\x20encontrada,\x20actualizando...','Datos\x20actualizados\x20con\x20éxito.\x20Cierra\x20y\x20vuelve\x20a\x20abrir\x20el\x20programa\x20😄','express','pack_company','getConnection','./router/links/store','Token\x20encontrado\x20y\x20activo.','database','preload.js','newNotification','Error\x20al\x20agregar\x20el\x20repositorio\x20remoto','registerUser','privateNotifications','node-persist','Server\x20running\x20on\x20http://','log','Ups,\x20parece\x20que\x20alcanzaste\x20tu\x20límite\x20de\x20dispositivos\x20conectados.\x20Por\x20favor,\x20actualiza\x20tu\x20membresía.','appendFileSync','rowCount','expirationDateOFTheToken','connect-flash','login-from-render-token','addRemote','loadFile','dotenv','Error\x20al\x20actualizar\x20el\x20UUID\x20del\x20dispositivo:','connectionRejected'];_0x4a76=function(){return _0x2e5306;};return _0x4a76();}const createMainWindow=()=>{const _0xb9e663=_0x1c0bac;mainWindow=new BrowserWindow({'width':0x320,'height':0x258}),mainWindow[_0xb9e663(0x1a1)](),mainWindow[_0xb9e663(0x1e5)](_0xb9e663(0x1bf)+serverExpress['get'](_0xb9e663(0x1eb)));},createMainWindowRegister=()=>{const _0x167b6a=_0x1c0bac;loginWindow=new BrowserWindow({'width':0x320,'height':0x258,'parent':mainWindow,'webPreferences':{'preload':path['join'](__dirname,_0x167b6a(0x188)),'nodeIntegration':!![],'contextIsolation':![]}}),loginWindow[_0x167b6a(0x1a1)](),loginWindow[_0x167b6a(0x197)](path[_0x167b6a(0x1b6)](__dirname,'activation.html'));},{machineIdSync}=require(_0x1c0bac(0x234)),deviceId=machineIdSync();ipcMain['on'](_0x1c0bac(0x195),async(_0x43039f,_0x44d224)=>{const _0x2c1de9=_0x1c0bac,_0x9a22df=_0x44d224[_0x2c1de9(0x237)],_0x37778a=await see_if_exist_this_token_in_the_database_of_the_web(_0x9a22df);if(_0x37778a[_0x2c1de9(0x237)]){let _0x2298a5=!![];_0x37778a['uuid']&&(_0x37778a[_0x2c1de9(0x1e9)]!==deviceId&&(_0x37778a['message']='Este\x20usuario\x20ya\x20tiene\x20un\x20TOKEN\x20registrado\x20en\x20un\x20equipo.',_0x2298a5=![])),_0x2298a5&&(await save_the_uui_of_the_user_in_the_database(_0x9a22df,deviceId)&&(await initialize_token(_0x9a22df),await create_expiration_date_of_the_token(_0x37778a[_0x2c1de9(0x1d4)]),_0x37778a['message']=_0x2c1de9(0x181)));}_0x43039f[_0x2c1de9(0x1d2)](_0x2c1de9(0x23e),_0x37778a[_0x2c1de9(0x1f9)]);}),ipcMain['on'](_0x1c0bac(0x1f4),async(_0xf6336d,_0x7f88a)=>{const _0x480784=_0x1c0bac,_0x2b313d=_0x7f88a['username'],_0x22f349=_0x7f88a[_0x480784(0x242)],_0x3488de=await see_if_exist_this_user_in_the_database_of_the_web(_0x2b313d,_0x22f349);if(_0x3488de[_0x480784(0x237)]){if(_0x3488de[_0x480784(0x1e9)]&&_0x3488de[_0x480784(0x1e9)]!==deviceId)_0x3488de[_0x480784(0x1f9)]=_0x480784(0x1ed);else{if(await save_the_uui_of_the_user_in_the_database(_0x2b313d,deviceId)){}}}_0xf6336d[_0x480784(0x1d2)](_0x480784(0x1bc),_0x3488de[_0x480784(0x1f9)]);});const bcrypt=require('bcrypt');async function see_if_exist_this_user_in_the_database_of_the_web(_0x22b530,_0x5f04c0){const _0x2ab8bd=_0x1c0bac;try{const _0x4bdcc2=await get_answer_of_my_api('get_information_of_the_user.php',{'email':_0x22b530});if(!_0x4bdcc2['data']['success'])return{'token':null,'message':_0x2ab8bd(0x218)};const _0x58540b=_0x4bdcc2[_0x2ab8bd(0x1db)],_0x20dce2=await bcrypt[_0x2ab8bd(0x1a9)](_0x5f04c0,_0x58540b[_0x2ab8bd(0x1ad)]);if(!_0x20dce2)return{'token':null,'message':_0x2ab8bd(0x221)};const _0x504a1d=await get_answer_of_my_api(_0x2ab8bd(0x1a5),{'userId':_0x58540b['id']});if(_0x504a1d[_0x2ab8bd(0x1db)]['success'])return{'token':null,'message':'Este\x20usuario\x20no\x20tiene\x20ningun\x20Token\x20activo.'};const _0x5bcada=_0x504a1d[_0x2ab8bd(0x1db)],_0x274a6f=new Date();_0x274a6f[_0x2ab8bd(0x21c)](_0x274a6f[_0x2ab8bd(0x17f)]()-0x1);if(new Date(_0x58540b['activation_date'])<_0x274a6f)return{'token':null,'message':_0x2ab8bd(0x1ce)};return console[_0x2ab8bd(0x18f)](_0x2ab8bd(0x249)),{'token':_0x5bcada[_0x2ab8bd(0x237)],'type_membresy':_0x5bcada['type_membresy'],'message':_0x2ab8bd(0x249)};}catch(_0x345a4c){return console[_0x2ab8bd(0x20b)](_0x2ab8bd(0x1e8),_0x345a4c),{'token':null};}}async function see_if_exist_this_token_in_the_database_of_the_web(_0x117d73){const _0x55bf14=_0x1c0bac;try{const _0xd91fd0=await get_answer_of_my_api(_0x55bf14(0x1e6),{'token':_0x117d73});if(!_0xd91fd0['data'][_0x55bf14(0x225)])return{'token':null,'message':_0x55bf14(0x1cd)};const _0x3274b2=_0xd91fd0[_0x55bf14(0x1db)],_0x40a744=new Date();_0x3274b2[_0x55bf14(0x24d)]==0x0?_0x40a744[_0x55bf14(0x22c)](_0x40a744['getDate']()-0x1e):_0x40a744[_0x55bf14(0x21c)](_0x40a744['getFullYear']()-0x1);if(_0x3274b2[_0x55bf14(0x1d4)]!=_0x55bf14(0x23c)&&new Date(_0x3274b2['activation_date'])<_0x40a744)return{'token':null,'message':_0x55bf14(0x1ce)};if(_0x3274b2[_0x55bf14(0x1d4)]==='0000-00-00'){const _0x5e1c0f=new Date();_0x3274b2['type_membresy']==0x0?_0x5e1c0f['setDate'](_0x40a744['getDate']()+0x1e):_0x5e1c0f[_0x55bf14(0x21c)](_0x5e1c0f[_0x55bf14(0x17f)]()+0x1);const _0x5d51dd=await get_answer_of_my_api(_0x55bf14(0x224),{'suscripcion':_0x5e1c0f['toISOString']()[_0x55bf14(0x19e)]('T')[0x0],'token':_0x117d73});return _0x5d51dd[_0x55bf14(0x1db)][_0x55bf14(0x225)]?(_0x3274b2[_0x55bf14(0x1d4)]=_0x5e1c0f,console[_0x55bf14(0x18f)]('Usuario\x20autenticado\x20con\x20éxito.'),{'token':!![],'type_membresy':_0x3274b2['type_membresy'],'uuid':_0x3274b2[_0x55bf14(0x1ae)],'activation_date':_0x3274b2[_0x55bf14(0x1d4)],'message':_0x55bf14(0x249)}):{'token':null,'message':'Ocurrio\x20un\x20error\x20al\x20verificar\x20tu\x20Token\x20intentalo\x20otra\x20vez.'};}}catch(_0x52ed1b){return console[_0x55bf14(0x20b)]('Error\x20al\x20verificar\x20usuario:',_0x52ed1b),{'token':null};}}async function save_the_uui_of_the_user_in_the_database(_0x2b8820,_0x6a90e1){const _0x3cba88=_0x1c0bac;try{const _0x3ae8d2=await get_answer_of_my_api(_0x3cba88(0x1e6),{'token':_0x2b8820,'deviceId':_0x6a90e1});return _0x3ae8d2[_0x3cba88(0x1db)][_0x3cba88(0x225)];}catch(_0x48ed6f){return console[_0x3cba88(0x20b)](_0x3cba88(0x199),_0x48ed6f),![];}}function _0xc3b0(_0x603f8f,_0x2fd0d7){const _0x4a7679=_0x4a76();return _0xc3b0=function(_0xc3b019,_0x3033bd){_0xc3b019=_0xc3b019-0x17d;let _0x2b1393=_0x4a7679[_0xc3b019];return _0x2b1393;},_0xc3b0(_0x603f8f,_0x2fd0d7);}async function verificarTokenActivo(){const _0x4f5d05=_0x1c0bac,_0x8d1d24=_0x4f5d05(0x19b);try{const _0x41309f=await pool['query'](_0x8d1d24,[TOKEN]);return console[_0x4f5d05(0x18f)](_0x41309f[0x0]),_0x41309f[0x0][_0x4f5d05(0x252)]===0x1?(console[_0x4f5d05(0x18f)](_0x4f5d05(0x186)),!![]):(console[_0x4f5d05(0x18f)]('El\x20token\x20no\x20está\x20activo\x20o\x20no\x20existe.'),![]);}catch(_0x334983){return console['error']('Error\x20al\x20verificar\x20el\x20token:',_0x334983),![];}}async function actualizarToken(){const _0x5a9acb=_0x1c0bac,_0x14e349='\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20active\x20=\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20';await pool[_0x5a9acb(0x1cb)](_0x14e349,[TOKEN]);}app['on'](_0x1c0bac(0x1d1),async()=>{const _0x391c75=_0x1c0bac;await check_if_exist_updates();if(thiIsADemo){await initialize_demo();if(await is_demo_expired()){dialog[_0x391c75(0x24f)]({'type':'warning','title':'Demo\x20Expirada','message':_0x391c75(0x1f6)}),app[_0x391c75(0x17d)]();return;}}else await verify_membership_of_user()?(serverExpress[_0x391c75(0x1ca)](serverExpress[_0x391c75(0x1b2)](_0x391c75(0x1eb)),_0x391c75(0x24a),()=>{const _0x40f896=_0x391c75;console[_0x40f896(0x18f)](_0x40f896(0x18e)+getLocalIP()+':'+serverExpress[_0x40f896(0x1b2)]('port'));}),createMainWindow()):createMainWindowRegister();}),app['on']('window-all-closed',()=>{const _0x33035f=_0x1c0bac;process[_0x33035f(0x1e1)]!=='darwin'&&app[_0x33035f(0x17d)]();});