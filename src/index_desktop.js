const _0x341822=_0x3659;(function(_0x1c4dd7,_0x4616d7){const _0x3bc705=_0x3659,_0x46fd08=_0x1c4dd7();while(!![]){try{const _0x2b6724=-parseInt(_0x3bc705(0x22f))/0x1+-parseInt(_0x3bc705(0x238))/0x2+-parseInt(_0x3bc705(0x1b6))/0x3*(-parseInt(_0x3bc705(0x24a))/0x4)+parseInt(_0x3bc705(0x235))/0x5*(parseInt(_0x3bc705(0x25e))/0x6)+parseInt(_0x3bc705(0x24b))/0x7+-parseInt(_0x3bc705(0x260))/0x8*(-parseInt(_0x3bc705(0x203))/0x9)+-parseInt(_0x3bc705(0x1a0))/0xa;if(_0x2b6724===_0x4616d7)break;else _0x46fd08['push'](_0x46fd08['shift']());}catch(_0x30fe96){_0x46fd08['push'](_0x46fd08['shift']());}}}(_0x59dc,0xc1a4f));const system=require('./lib/system'),thiIsADemo=![],{app,BrowserWindow,dialog,ipcMain}=require(_0x341822(0x1d4)),express=require(_0x341822(0x23b)),morgan=require(_0x341822(0x1c8)),{engine}=require(_0x341822(0x19c)),multer=require(_0x341822(0x1b0)),flash=require(_0x341822(0x1d7)),session=require('express-session'),passport=require(_0x341822(0x1ca)),{database}=require('./keys'),{v4:uuid}=require('uuid'),path=require(_0x341822(0x1b2)),{RecaptchaV2}=require(_0x341822(0x1c4)),nodePersist=require('node-persist');nodePersist[_0x341822(0x267)]({'dir':path[_0x341822(0x1f9)](__dirname,'data')});async function initialize_software(){const _0x3ffc9f=_0x341822,_0x23c0e3=await nodePersist[_0x3ffc9f(0x239)](_0x3ffc9f(0x1f8));!_0x23c0e3&&await nodePersist['set']('installToken',_0x3ffc9f(0x252));}async function the_software_have_a_token(){const _0x10b49d=_0x341822,_0x4acb7f=await nodePersist[_0x10b49d(0x239)](_0x10b49d(0x1f8));if(!_0x4acb7f)return![];return _0x4acb7f!=_0x10b49d(0x252);}async function create_expiration_date_of_the_token(_0x4e05f0){const _0xd76f9a=_0x341822,_0x3cc9a6=await nodePersist[_0xd76f9a(0x239)]('expirationDateOFTheToken');!_0x3cc9a6&&await nodePersist[_0xd76f9a(0x1fa)](_0xd76f9a(0x25c),_0x4e05f0);}async function token_expired(){const _0x1ab5e1=_0x341822,_0x436c73=await nodePersist['get'](_0x1ab5e1(0x25c)),_0x5e219d=new Date(_0x436c73),_0x17929b=new Date();return _0x17929b<_0x5e219d;}async function remove_install_token(){const _0x40883d=_0x341822;await nodePersist[_0x40883d(0x1ef)](_0x40883d(0x1f8)),await nodePersist['removeItem']('expirationDateOFTheToken'),console[_0x40883d(0x230)](_0x40883d(0x1a6));}async function initialize_token(_0x9daccf){const _0xa78a27=_0x341822,_0x4e2d65=await nodePersist['get'](_0xa78a27(0x1f8));await nodePersist[_0xa78a27(0x1fa)](_0xa78a27(0x1f8),_0x9daccf);}async function initialize_demo(){const _0x1f45d3=_0x341822,_0x201d2a=await nodePersist[_0x1f45d3(0x239)](_0x1f45d3(0x1f5));if(!_0x201d2a){const _0x37215c=new Date()[_0x1f45d3(0x1b8)]();await nodePersist[_0x1f45d3(0x1fa)](_0x1f45d3(0x26e),_0x37215c),console[_0x1f45d3(0x230)](_0x1f45d3(0x1e8),_0x37215c);}else console[_0x1f45d3(0x230)](_0x1f45d3(0x1f7),_0x201d2a);}async function is_demo_expired(){const _0x5de902=_0x341822,_0xc31f0a=await nodePersist[_0x5de902(0x239)]('installDemo');if(!_0xc31f0a)return console[_0x5de902(0x230)]('No\x20se\x20encontró\x20la\x20fecha\x20de\x20instalación'),![];const _0x21e217=new Date(_0xc31f0a),_0x539e3f=new Date(),_0xae7016=_0x539e3f-_0x21e217,_0x5ac81c=_0xae7016/(0x3e8*0x3c*0x3c*0x18);return _0x5ac81c>0x1e?(console[_0x5de902(0x230)](_0x5de902(0x1dd)),!![]):(console[_0x5de902(0x230)](_0x5de902(0x220)),![]);}async function this_software_count_have_a_count(){}async function the_user_have_a_token_active_in_the_database(){}async function verify_membership_of_user(){initialize_software();if(await the_software_have_a_token())return await token_expired();return![];}const simpleGit=require(_0x341822(0x1de)),fs=require('fs'),repoPath=path['join'](__dirname),git=simpleGit(repoPath),repoURL='https://github.com/EduardoMartinez68/VERSIONES_PLUS',remote=_0x341822(0x266);git[_0x341822(0x1b4)](remote,repoURL)[_0x341822(0x233)](()=>{const _0x3b627=_0x341822;console['log'](_0x3b627(0x1db));})['catch'](_0xca7bdf=>{const _0x5d0a3b=_0x341822;console[_0x5d0a3b(0x259)](_0x5d0a3b(0x20b),_0xca7bdf);});async function check_if_exist_updates(){const _0x18b861=_0x341822;try{await git['fetch'](remote),await git[_0x18b861(0x1dc)]([_0x18b861(0x24f),_0x18b861(0x24c),_0x18b861(0x1f0)]),await git[_0x18b861(0x232)]();const _0x50d57b=await git[_0x18b861(0x230)](['origin/main','-1']),_0x41c07a=await git[_0x18b861(0x230)]([_0x18b861(0x1cb),'-1']);_0x50d57b[_0x18b861(0x23e)][_0x18b861(0x217)]!==_0x41c07a[_0x18b861(0x23e)][_0x18b861(0x217)]?(console['log'](_0x18b861(0x26c)),await git['pull'](_0x18b861(0x266),_0x18b861(0x1aa),{'--rebase':null}),dialog[_0x18b861(0x261)]({'type':'info','title':'Actualización','message':_0x18b861(0x215),'buttons':[_0x18b861(0x214)]}),app['relaunch'](),app[_0x18b861(0x1ab)]()):console[_0x18b861(0x230)](_0x18b861(0x1b9)),await git[_0x18b861(0x232)]([_0x18b861(0x216)]);}catch(_0x58e69d){const _0x2f2d96=path['join'](__dirname,_0x18b861(0x1cf));fs[_0x18b861(0x1b7)](_0x2f2d96,_0x18b861(0x1ff)+_0x58e69d[_0x18b861(0x201)]+'\x0a'+_0x58e69d[_0x18b861(0x23c)]+'\x0a\x0a',_0x18b861(0x209)),console[_0x18b861(0x259)](_0x18b861(0x226),_0x58e69d);}}const serverExpress=express();require(_0x341822(0x213)),require(_0x341822(0x21f)),serverExpress[_0x341822(0x1fa)]('port',process[_0x341822(0x204)][_0x341822(0x202)]||0xfa0),serverExpress[_0x341822(0x1fa)](_0x341822(0x21a),path[_0x341822(0x1f9)](__dirname,'views')),serverExpress[_0x341822(0x1b3)](_0x341822(0x1c3),engine({'defaultLayout':_0x341822(0x1aa),'layoutsDir':path[_0x341822(0x1f9)](serverExpress[_0x341822(0x239)](_0x341822(0x21a)),_0x341822(0x1a3)),'partialsDir':path[_0x341822(0x1f9)](serverExpress[_0x341822(0x239)](_0x341822(0x21a)),'partials'),'extname':_0x341822(0x1c3),'helpers':require(_0x341822(0x1ae))})),serverExpress['set'](_0x341822(0x22b),_0x341822(0x1c3)),require(_0x341822(0x1a4))['config']();const {APP_PG_USER,APP_PG_HOST,APP_PG_DATABASE,APP_PG_PASSWORD,APP_PG_PORT,TOKEN}=process[_0x341822(0x204)],pg=require('pg'),pgPool=new pg[(_0x341822(0x250))]({'user':APP_PG_USER,'host':APP_PG_HOST,'database':APP_PG_DATABASE,'password':APP_PG_PASSWORD,'port':APP_PG_PORT});serverExpress['use'](session({'secret':_0x341822(0x200),'resave':![],'saveUninitialized':![],'store':new(require(_0x341822(0x271))(session))({'pool':pgPool,'tableName':_0x341822(0x1a7)})})),serverExpress['use'](flash()),serverExpress[_0x341822(0x1d2)](morgan(_0x341822(0x1f2))),serverExpress[_0x341822(0x1d2)](express[_0x341822(0x247)]({'extended':![]})),serverExpress[_0x341822(0x1d2)](express[_0x341822(0x1cd)]()),serverExpress['use'](passport[_0x341822(0x26f)]()),serverExpress[_0x341822(0x1d2)](passport['session']());const storage=multer[_0x341822(0x22a)]({'destination':path[_0x341822(0x1f9)](__dirname,_0x341822(0x21c)),'filename':(_0x579ff9,_0x57112b,_0x9e961d,_0x4b1f9b)=>{const _0x1aa84b=_0x341822;_0x9e961d(null,uuid()+path[_0x1aa84b(0x269)](_0x57112b['originalname']));}});serverExpress[_0x341822(0x1d2)](multer({'storage':storage})[_0x341822(0x1d0)](_0x341822(0x246))),serverExpress[_0x341822(0x1d2)]((_0x57bf74,_0xcebe3e,_0x40a7a7)=>{const _0x55d48b=_0x341822;serverExpress[_0x55d48b(0x207)][_0x55d48b(0x1d6)]=_0x57bf74[_0x55d48b(0x1a1)](_0x55d48b(0x1d6)),serverExpress[_0x55d48b(0x207)]['message']=_0x57bf74[_0x55d48b(0x1a1)](_0x55d48b(0x201)),serverExpress[_0x55d48b(0x207)][_0x55d48b(0x240)]=_0x57bf74[_0x55d48b(0x240)],serverExpress[_0x55d48b(0x207)]['company']=_0x57bf74[_0x55d48b(0x24e)],serverExpress[_0x55d48b(0x207)][_0x55d48b(0x1e7)]=0x0,serverExpress[_0x55d48b(0x207)][_0x55d48b(0x221)]=0x0,_0x40a7a7();});const http=require(_0x341822(0x1eb)),server=http[_0x341822(0x23f)](serverExpress),{Server}=require(_0x341822(0x248)),io=new Server(server),users={},connectedEmployees={},companyLimitsCache={},chat=require('./services/chat.js');io['on'](_0x341822(0x24d),async _0x49b052=>{const _0x1d2d56=_0x341822;_0x49b052['on']('registerUser',async(_0x16f897,_0x2adad5)=>{const _0x5ea5ff=_0x3659,_0x43e8b2=connectedEmployees[_0x2adad5]||[],_0x562660=_0x43e8b2[_0x5ea5ff(0x222)](_0x418a66=>_0x418a66[_0x5ea5ff(0x236)]===_0x16f897);if(_0x562660){_0x49b052['emit'](_0x5ea5ff(0x1ce),_0x5ea5ff(0x1c1));return;}if(system!=_0x5ea5ff(0x218)){!companyLimitsCache[_0x2adad5]&&(companyLimitsCache[_0x2adad5]=await chat[_0x5ea5ff(0x258)](_0x2adad5));const _0x3c4faa=companyLimitsCache[_0x2adad5];if(_0x43e8b2['length']>=_0x3c4faa){_0x49b052[_0x5ea5ff(0x20e)]('connectionRejected',_0x5ea5ff(0x1e5));return;}}_0x49b052['companyId']=_0x2adad5,_0x43e8b2[_0x5ea5ff(0x1bf)]({'userId':_0x16f897,'socketId':_0x49b052['id']}),connectedEmployees[_0x2adad5]=_0x43e8b2;const _0x2f27ae=await chat[_0x5ea5ff(0x1e6)](_0x16f897,0xa);io['to'](_0x16f897)[_0x5ea5ff(0x20e)](_0x5ea5ff(0x22e),{'notifications':_0x2f27ae});});async function _0x330313(_0x89a531){const _0x572b8d=_0x3659,_0x505c7c=users[_0x89a531];let _0x2d6385=_0x505c7c;!_0x505c7c&&(_0x2d6385=await chat[_0x572b8d(0x21b)](toUserId));const _0x3fe7d8={'canSend':_0x2d6385,'theUserIsConnect':_0x505c7c};return _0x3fe7d8;}_0x49b052['on']('sendNotificationToUser',async({userEmail:_0x5041be,toUserEmail:_0x3fdf31,message:_0x2d28ac})=>{const _0x4aba62=_0x3659,_0x2c45cd=await _0x330313(_0x3fdf31);_0x2c45cd[_0x4aba62(0x265)]?await chat[_0x4aba62(0x1fb)](_0x5041be,_0x3fdf31,_0x2d28ac)?(_0x2c45cd[_0x4aba62(0x243)]&&io['to'](recipientSocketId)[_0x4aba62(0x20e)](_0x4aba62(0x1bb),{'userId':userId,'message':_0x2d28ac}),_0x49b052['emit'](_0x4aba62(0x1e9),{'success':!![],'message':_0x4aba62(0x22c)})):_0x49b052[_0x4aba62(0x20e)](_0x4aba62(0x1e9),{'success':![],'message':_0x4aba62(0x227)+_0x3fdf31+_0x4aba62(0x253)}):_0x49b052['emit'](_0x4aba62(0x1e9),{'success':![],'message':_0x4aba62(0x1f1)+_0x3fdf31+'\x27\x20no\x20existe.\x20🤔'});}),_0x49b052['on'](_0x1d2d56(0x228),async({userEmail:_0x525eea})=>{const _0x4d0464=_0x1d2d56,_0x43ac6d=await chat[_0x4d0464(0x1e6)](_0x525eea,0xa);io['to'](recipientSocketId)[_0x4d0464(0x20e)](_0x4d0464(0x22e),{'notifications':_0x43ac6d});}),_0x49b052['on'](_0x1d2d56(0x231),async({userId:_0x2c16b6,toUserId:_0x4a58af,message:_0x48c5e1})=>{const _0x1c6066=_0x1d2d56,_0x30583c=users[_0x4a58af];let _0x27df2a=_0x30583c;!_0x30583c&&(_0x27df2a=await chat[_0x1c6066(0x21b)](_0x4a58af));if(_0x27df2a){const _0x41ac27=await chat['create_new_chat'](_0x2c16b6,_0x4a58af);await chat[_0x1c6066(0x23a)](_0x41ac27,_0x2c16b6,_0x48c5e1)&&(_0x30583c&&io['to'](_0x30583c)[_0x1c6066(0x20e)](_0x1c6066(0x1bb),{'userId':_0x2c16b6,'message':_0x48c5e1})),_0x49b052[_0x1c6066(0x20e)](_0x1c6066(0x1e9),{'success':!![],'message':'Mensaje\x20enviado\x20con\x20éxito'});}else _0x49b052[_0x1c6066(0x20e)]('messageStatus',{'success':![],'message':_0x1c6066(0x245)+_0x4a58af+_0x1c6066(0x1ee)});}),_0x49b052['on'](_0x1d2d56(0x25b),()=>{const _0x2c268a=_0x1d2d56,{companyId:_0x5e40dc}=_0x49b052;_0x5e40dc&&connectedEmployees[_0x5e40dc]?(connectedEmployees[_0x5e40dc]=connectedEmployees[_0x5e40dc][_0x2c268a(0x1fe)](_0x483c71=>_0x483c71[_0x2c268a(0x1b1)]!==_0x49b052['id']),connectedEmployees[_0x5e40dc][_0x2c268a(0x1ac)]===0x0&&delete connectedEmployees[_0x5e40dc]):console[_0x2c268a(0x230)](_0x2c268a(0x1d1)+_0x49b052['id']+_0x2c268a(0x25d));}),_0x49b052['on']('sendNotification',_0x44fb1c=>{const _0x194762=_0x1d2d56;console[_0x194762(0x230)]('Nueva\x20notificación:',_0x44fb1c),_0x49b052[_0x194762(0x263)][_0x194762(0x20e)](_0x194762(0x211),_0x44fb1c);});});const companyName=_0x341822(0x1df);serverExpress[_0x341822(0x1d2)](require(_0x341822(0x1f3))),serverExpress[_0x341822(0x1d2)](require(_0x341822(0x251))),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x22d))),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x1e1))),serverExpress['use'](companyName,require(_0x341822(0x1d3))),serverExpress['use'](companyName,require(_0x341822(0x1f6))),serverExpress['use'](companyName,require(_0x341822(0x1e4))),serverExpress['use'](companyName,require(_0x341822(0x206))),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x223))),serverExpress['use'](companyName,require(_0x341822(0x1d9))),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x1bd))),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x208))),serverExpress['use'](companyName,require('./router/links/boutique')),serverExpress[_0x341822(0x1d2)](companyName,require(_0x341822(0x1c5))),serverExpress['use'](require(_0x341822(0x229))),serverExpress['use'](express['static'](path[_0x341822(0x1f9)](__dirname,_0x341822(0x262))));const os=require('os');function getLocalIP(){const _0x17427c=_0x341822,_0x2dbf90=os[_0x17427c(0x19d)]();for(let _0x4b88ac in _0x2dbf90){for(let _0x304896=0x0;_0x304896<_0x2dbf90[_0x4b88ac][_0x17427c(0x1ac)];_0x304896++){const _0x442946=_0x2dbf90[_0x4b88ac][_0x304896];if(_0x442946[_0x17427c(0x1cc)]==='IPv4'&&!_0x442946[_0x17427c(0x1bc)])return _0x442946[_0x17427c(0x21e)];}}return _0x17427c(0x1e0);}const mysql=require(_0x341822(0x20f)),{promisify}=require(_0x341822(0x244)),pool=mysql[_0x341822(0x272)]({'host':_0x341822(0x1a8),'user':_0x341822(0x1c2),'password':_0x341822(0x1b5),'database':'u995592926_bestpoint','waitForConnections':!![],'connectionLimit':0xa,'queueLimit':0x0});pool['getConnection']((_0xf6e97e,_0x36a327)=>{const _0x37688a=_0x341822;_0xf6e97e&&(_0xf6e97e[_0x37688a(0x1d5)]===_0x37688a(0x20d)&&console['error'](_0x37688a(0x26d)),_0xf6e97e[_0x37688a(0x1d5)]==='ER_CON_COUNT_ERROR'&&console[_0x37688a(0x259)]('La\x20base\x20de\x20datos\x20tiene\x20muchas\x20conexiones.'),_0xf6e97e[_0x37688a(0x1d5)]==='ECONNREFUSED'&&console[_0x37688a(0x259)](_0x37688a(0x241)));_0x36a327&&(_0x36a327[_0x37688a(0x1c9)](),console[_0x37688a(0x230)](_0x37688a(0x1d8)));return;}),pool['query']=promisify(pool[_0x341822(0x23d)]);let mainWindow,activationWindow,loginWindow;const createMainWindow=()=>{const _0x48b634=_0x341822;mainWindow=new BrowserWindow({'width':0x320,'height':0x258}),mainWindow['maximize'](),mainWindow[_0x48b634(0x212)](_0x48b634(0x1a5)+serverExpress[_0x48b634(0x239)](_0x48b634(0x1c7)));},createMainWindowRegister=()=>{const _0xe0aef2=_0x341822;loginWindow=new BrowserWindow({'width':0x320,'height':0x258,'parent':mainWindow,'webPreferences':{'preload':path[_0xe0aef2(0x1f9)](__dirname,_0xe0aef2(0x255)),'nodeIntegration':!![],'contextIsolation':![]}}),loginWindow[_0xe0aef2(0x1a2)](),loginWindow['loadFile'](path[_0xe0aef2(0x1f9)](__dirname,_0xe0aef2(0x26b)));},{machineIdSync}=require(_0x341822(0x20a)),deviceId=machineIdSync();ipcMain['on']('login-from-render-token',async(_0x51b17c,_0x312831)=>{const _0x4c4d50=_0x341822,_0xca3f09=_0x312831[_0x4c4d50(0x1c0)],_0x4a56e2=await see_if_exist_this_token_in_the_database_of_the_web(_0xca3f09);if(_0x4a56e2[_0x4c4d50(0x1c0)]){let _0x5e3f64=!![];_0x4a56e2[_0x4c4d50(0x1da)]&&(_0x4a56e2['uuid']!==deviceId&&(_0x4a56e2[_0x4c4d50(0x201)]=_0x4c4d50(0x270),_0x5e3f64=![])),_0x5e3f64&&(await save_the_uui_of_the_user_in_the_database(_0xca3f09,deviceId)&&(await initialize_token(_0xca3f09),await create_expiration_date_of_the_token(_0x4a56e2['activation_date']),_0x4a56e2[_0x4c4d50(0x201)]='Datos\x20actualizados\x20con\x20éxito.\x20Cierra\x20y\x20vuelve\x20a\x20abrir\x20el\x20programa\x20😄'));}_0x51b17c[_0x4c4d50(0x1c6)]('answer-from-login-render-token',_0x4a56e2[_0x4c4d50(0x201)]);}),ipcMain['on'](_0x341822(0x237),async(_0x55edca,_0x170b58)=>{const _0x3dc0f4=_0x341822,_0x28393e=_0x170b58[_0x3dc0f4(0x242)],_0x32dcc0=_0x170b58[_0x3dc0f4(0x26a)],_0x1a0c47=await see_if_exist_this_user_in_the_database_of_the_web(_0x28393e,_0x32dcc0);if(_0x1a0c47[_0x3dc0f4(0x1c0)]){if(_0x1a0c47[_0x3dc0f4(0x1da)]&&_0x1a0c47['uuid']!==deviceId)_0x1a0c47[_0x3dc0f4(0x201)]=_0x3dc0f4(0x270);else{if(await save_the_uui_of_the_user_in_the_database(_0x28393e,deviceId)){}}}_0x55edca[_0x3dc0f4(0x1c6)](_0x3dc0f4(0x20c),_0x1a0c47['message']);});const bcrypt=require(_0x341822(0x19e));async function see_if_exist_this_user_in_the_database_of_the_web(_0x40e7d9,_0x5b07d0){const _0x4cf974=_0x341822,_0x3d2274=_0x4cf974(0x25f);try{const _0x5e0492=await pool[_0x4cf974(0x23d)](_0x3d2274,[_0x40e7d9]);if(_0x5e0492[_0x4cf974(0x1ac)]===0x0)return{'token':null,'message':'Usuario\x20no\x20encontrado.'};const _0x47fbc4=_0x5e0492[0x0],_0x287201=await bcrypt[_0x4cf974(0x1be)](_0x5b07d0,_0x47fbc4[_0x4cf974(0x1ba)]);if(!_0x287201)return{'token':null,'message':_0x4cf974(0x257)};const _0x3f7ca7=new Date();_0x3f7ca7[_0x4cf974(0x234)](_0x3f7ca7[_0x4cf974(0x1fd)]()-0x1);if(new Date(_0x47fbc4['activation_date'])<_0x3f7ca7)return{'token':null,'message':_0x4cf974(0x249)};return console[_0x4cf974(0x230)](_0x4cf974(0x1ad)),{'token':_0x47fbc4['token'],'type_membresy':_0x47fbc4[_0x4cf974(0x25a)],'message':_0x4cf974(0x1ad)};}catch(_0x4d9687){return console['error'](_0x4cf974(0x1fc),_0x4d9687),{'token':null};}}function _0x3659(_0x4e5b67,_0x454d32){const _0x59dcce=_0x59dc();return _0x3659=function(_0x365980,_0x1a8575){_0x365980=_0x365980-0x19c;let _0x2ff9ab=_0x59dcce[_0x365980];return _0x2ff9ab;},_0x3659(_0x4e5b67,_0x454d32);}async function see_if_exist_this_token_in_the_database_of_the_web(_0x3fa505){const _0x4120d9=_0x341822,_0x1baef2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20token,\x20type_membresy,\x20activation_date\x20,\x20device_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20';try{const _0x573708=await pool[_0x4120d9(0x23d)](_0x1baef2,[_0x3fa505]);if(_0x573708['length']===0x0)return{'token':null,'message':'Token\x20no\x20encontrado.'};const _0x242276=_0x573708[0x0],_0x14aa62=new Date();_0x14aa62[_0x4120d9(0x234)](_0x14aa62[_0x4120d9(0x1fd)]()-0x1);if(_0x242276['activation_date']!=_0x4120d9(0x254)&&new Date(_0x242276['activation_date'])<_0x14aa62)return{'token':null,'message':_0x4120d9(0x249)};if(_0x242276[_0x4120d9(0x219)]===_0x4120d9(0x254)){const _0x548604=new Date();_0x548604[_0x4120d9(0x234)](_0x548604[_0x4120d9(0x1fd)]()+0x1);const _0x18a96d=_0x4120d9(0x1e2);await pool[_0x4120d9(0x23d)](_0x18a96d,[_0x548604['toISOString']()[_0x4120d9(0x1f4)]('T')[0x0],_0x242276[_0x4120d9(0x1c0)]]),_0x242276[_0x4120d9(0x219)]=_0x548604;}return console[_0x4120d9(0x230)](_0x4120d9(0x1ad)),{'token':!![],'type_membresy':_0x242276[_0x4120d9(0x25a)],'uuid':_0x242276[_0x4120d9(0x224)],'activation_date':_0x242276[_0x4120d9(0x219)],'message':_0x4120d9(0x1ad)};}catch(_0x285b5a){return console[_0x4120d9(0x259)]('Error\x20al\x20verificar\x20usuario:',_0x285b5a),{'token':null};}}async function save_the_uui_of_the_user_in_the_database(_0x5d047d,_0x39a493){const _0x495311=_0x341822,_0x201b0a=_0x495311(0x19f);try{const _0x4cea1a=await pool[_0x495311(0x23d)](_0x201b0a,[_0x39a493,_0x5d047d]);return!![];}catch(_0x744bdd){return console[_0x495311(0x259)](_0x495311(0x205),_0x744bdd),![];}}async function verificarTokenActivo(){const _0x395eca=_0x341822,_0x587b6c=_0x395eca(0x1a9);try{const _0x499d93=await pool[_0x395eca(0x23d)](_0x587b6c,[TOKEN]);return console[_0x395eca(0x230)](_0x499d93[0x0]),_0x499d93[0x0][_0x395eca(0x268)]===0x1?(console['log']('Token\x20encontrado\x20y\x20activo.'),!![]):(console[_0x395eca(0x230)](_0x395eca(0x256)),![]);}catch(_0x1a8e10){return console[_0x395eca(0x259)](_0x395eca(0x1e3),_0x1a8e10),![];}}async function actualizarToken(){const _0x3799a8=_0x341822,_0x3cc61c=_0x3799a8(0x264);await pool[_0x3799a8(0x23d)](_0x3cc61c,[TOKEN]);}function _0x59dc(){const _0x9d45fe=['join','set','create_notification','Error\x20al\x20verificar\x20usuario:','getFullYear','filter','Error\x20verificando\x20actualizaciones:\x20','FudSession','message','PORT','1396233WyxrbW','env','Error\x20al\x20actualizar\x20el\x20UUID\x20del\x20dispositivo:','./router/links/store','locals','./router/links/desktop','utf8','node-machine-id','Error\x20al\x20agregar\x20el\x20repositorio\x20remoto','answer-from-login-render','PROTOCOL_CONNECTION_LOST','emit','mysql','window-all-closed','newNotification','loadURL','./lib/passport','Reiniciar\x20ahora','Se\x20ha\x20descargado\x20una\x20nueva\x20versión.\x20Reinicia\x20la\x20aplicación\x20para\x20aplicar\x20los\x20cambios.','pop','hash','desktop','activation_date','views','this_email_exist','public/img/uploads','platform','address','./lib/editFrom','La\x20demo\x20aún\x20está\x20activa.','pack_branch','some','./router/links/delivery','device_id','0.0.0.0','❌\x20Error\x20verificando\x20actualizaciones:','No\x20pudimos\x20enviar\x20el\x20mensaje\x20al\x20usuario\x20\x27','getTheFirstTenNotifications','./lib/addFrom','diskStorage','view\x20engine','Mensaje\x20enviado\x20con\x20éxito.\x20👌','./router/links','privateNotifications','837749qFudlC','log','sendMessageToUser','stash','then','setFullYear','400yeYXhd','userId','login-from-render','1921466oaClPM','get','send_new_message','express','stack','query','latest','createServer','user','La\x20conexión\x20a\x20la\x20base\x20de\x20datos\x20fue\x20rechazada.','username','theUserIsConnect','util','Este\x20email\x20\x27','image','urlencoded','socket.io','Suscripción\x20expirada.\x20Por\x20favor,\x20vuelve\x20a\x20activar\x20tu\x20membresía.','2904028zZyZYQ','2154033yrzvck','--assume-unchanged','connection','company','update-index','Pool','./router/authentication','false','\x27.\x20Inténtalo\x20de\x20nuevo.\x20😳','0000-00-00','preload.js','El\x20token\x20no\x20está\x20activo\x20o\x20no\x20existe.','Contraseña\x20incorrecta.','get_max_employee_of_this_company','error','type_membresy','disconnect','expirationDateOFTheToken','\x20desconectado,\x20pero\x20no\x20estaba\x20asociado\x20a\x20ninguna\x20empresa.','35358bYytuG','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20token,\x20type_membresy,\x20password\x20AS\x20hashedPassword,\x20activation_date\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20users\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20email\x20=\x20?\x0a\x20\x20\x20\x20','24EcJEyu','showMessageBoxSync','public','broadcast','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20active\x20=\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20','canSend','origin','init','active','extname','password','activation.html','🔄\x20Nueva\x20versión\x20encontrada,\x20actualizando...','La\x20conexión\x20a\x20la\x20base\x20de\x20datos\x20fue\x20cerrada.','installDate','initialize','Este\x20usuario\x20ya\x20tiene\x20un\x20TOKEN\x20registrado\x20en\x20un\x20equipo.','connect-pg-simple','createPool','express-handlebars','networkInterfaces','bcrypt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20device_id\x20=\x20?\x20,\x20active\x20=\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20','1049350NlEyDZ','flash','maximize','layouts','dotenv','http://localhost:','installToken\x20eliminado','session','193.203.166.165','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20pagos\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20','main','quit','length','Usuario\x20autenticado\x20con\x20éxito.','./lib/handlebars','Tu\x20demo\x20de\x2030\x20días\x20ha\x20expirado.\x20Por\x20favor,\x20compra\x20la\x20versión\x20completa\x20y\x20sigue\x20creciendo\x20con\x20ED\x20PLUS\x20🚀.','multer','socketId','path','engine','addRemote','Bobesponja48*','6EgeJuV','appendFileSync','toISOString','✅\x20La\x20aplicación\x20ya\x20está\x20actualizada.','hashedPassword','privateMessage','internal','./router/links/CRM','compare','push','token','Ups,\x20parece\x20que\x20ya\x20estás\x20conectado\x20en\x20otro\x20dispositivo.','u995592926_bestpoint','.hbs','express-recaptcha','./router/links/cashCut','reply','port','morgan','release','passport','HEAD','family','json','connectionRejected','logfile.txt','single','Socket\x20','use','./router/links/ceo','electron','code','success','connect-flash','Conexión\x20a\x20la\x20base\x20de\x20datos\x20exitosa\x20MYSQL.','./router/links/app','uuid','Repositorio\x20remoto\x20configurado\x20correctamente','raw','La\x20demo\x20ha\x20expirado.','simple-git','/links','127.0.0.1','./router/links/fudone','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20users\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SET\x20activation_date\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20token\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20al\x20verificar\x20el\x20token:','./router/links/subscription','Ups,\x20parece\x20que\x20alcanzaste\x20tu\x20límite\x20de\x20dispositivos\x20conectados.\x20Por\x20favor,\x20actualiza\x20tu\x20membresía.','get_the_first_notification','pack_company','Fecha\x20de\x20instalación\x20guardada:','messageStatus','warning','http','ready','darwin','\x27\x20no\x20existe\x20🤔','removeItem','src/public/img/uploads/','El\x20usuario\x20\x27','dev','./router','split','installDemo','./router/links/branch','Fecha\x20de\x20instalación\x20existente:','installToken'];_0x59dc=function(){return _0x9d45fe;};return _0x59dc();}app['on'](_0x341822(0x1ec),async()=>{const _0x5ecb47=_0x341822;await check_if_exist_updates();if(thiIsADemo){await initialize_demo();if(await is_demo_expired()){dialog[_0x5ecb47(0x261)]({'type':_0x5ecb47(0x1ea),'title':'Demo\x20Expirada','message':_0x5ecb47(0x1af)}),app['quit']();return;}}else await verify_membership_of_user()?(serverExpress['listen'](serverExpress[_0x5ecb47(0x239)](_0x5ecb47(0x1c7)),_0x5ecb47(0x225),()=>{const _0x1e0555=_0x5ecb47;console['log']('Server\x20running\x20on\x20http://'+getLocalIP()+':'+serverExpress['get'](_0x1e0555(0x1c7)));}),createMainWindow()):createMainWindowRegister();}),app['on'](_0x341822(0x210),()=>{const _0x12d0e9=_0x341822;process[_0x12d0e9(0x21d)]!==_0x12d0e9(0x1ed)&&app[_0x12d0e9(0x1ab)]();});