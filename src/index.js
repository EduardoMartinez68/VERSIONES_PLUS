function _0x2ddc(_0x37a910,_0x46d440){const _0x59b3f6=_0x59b3();return _0x2ddc=function(_0x2ddcf2,_0x51f0db){_0x2ddcf2=_0x2ddcf2-0xd2;let _0x4620bb=_0x59b3f6[_0x2ddcf2];return _0x4620bb;},_0x2ddc(_0x37a910,_0x46d440);}const _0x3bb1f7=_0x2ddc;(function(_0x230f09,_0x390864){const _0x570bba=_0x2ddc,_0x1aad83=_0x230f09();while(!![]){try{const _0x2d18fc=-parseInt(_0x570bba(0x130))/0x1*(-parseInt(_0x570bba(0x132))/0x2)+parseInt(_0x570bba(0xf4))/0x3+parseInt(_0x570bba(0xec))/0x4*(-parseInt(_0x570bba(0x107))/0x5)+-parseInt(_0x570bba(0x11a))/0x6+parseInt(_0x570bba(0xf7))/0x7+-parseInt(_0x570bba(0x125))/0x8+-parseInt(_0x570bba(0xdd))/0x9*(-parseInt(_0x570bba(0x140))/0xa);if(_0x2d18fc===_0x390864)break;else _0x1aad83['push'](_0x1aad83['shift']());}catch(_0x1afd1e){_0x1aad83['push'](_0x1aad83['shift']());}}}(_0x59b3,0xbb5f9));const system=require('./lib/system'),express=require(_0x3bb1f7(0xfd)),morgan=require(_0x3bb1f7(0xdb)),{engine}=require('express-handlebars'),multer=require(_0x3bb1f7(0x144)),flash=require(_0x3bb1f7(0x13e)),session=require(_0x3bb1f7(0xde)),passport=require('passport'),{database}=require(_0x3bb1f7(0x129)),{v4:uuid}=require(_0x3bb1f7(0x127)),path=require('path'),{RecaptchaV2}=require(_0x3bb1f7(0x13f)),serverExpress=express();require('./lib/passport'),require('./lib/editFrom'),serverExpress['set'](_0x3bb1f7(0x123),process['env'][_0x3bb1f7(0x11f)]||0xfa0),serverExpress['set'](_0x3bb1f7(0xf3),path[_0x3bb1f7(0x141)](__dirname,'views')),serverExpress[_0x3bb1f7(0x13c)](_0x3bb1f7(0x12f),engine({'defaultLayout':_0x3bb1f7(0x137),'layoutsDir':path[_0x3bb1f7(0x141)](serverExpress[_0x3bb1f7(0x10c)](_0x3bb1f7(0xf3)),_0x3bb1f7(0xdc)),'partialsDir':path[_0x3bb1f7(0x141)](serverExpress[_0x3bb1f7(0x10c)]('views'),_0x3bb1f7(0xea)),'extname':'.hbs','helpers':require('./lib/handlebars')})),serverExpress[_0x3bb1f7(0x110)]('view\x20engine',_0x3bb1f7(0x12f)),require(_0x3bb1f7(0xe7))[_0x3bb1f7(0x104)]();const {APP_PG_USER,APP_PG_HOST,APP_PG_DATABASE,APP_PG_PASSWORD,APP_PG_PORT}=process[_0x3bb1f7(0xd8)],pg=require('pg'),pgPool=new pg['Pool']({'user':APP_PG_USER,'host':APP_PG_HOST,'database':APP_PG_DATABASE,'password':APP_PG_PASSWORD,'port':APP_PG_PORT});serverExpress[_0x3bb1f7(0xff)](session({'secret':_0x3bb1f7(0x10a),'resave':![],'saveUninitialized':![],'store':new(require(_0x3bb1f7(0xe3))(session))({'pool':pgPool,'tableName':_0x3bb1f7(0x113)})})),serverExpress['use'](flash()),serverExpress['use'](morgan(_0x3bb1f7(0xe9))),serverExpress['use'](express[_0x3bb1f7(0x10e)]({'extended':![]})),serverExpress[_0x3bb1f7(0xff)](express['json']()),serverExpress[_0x3bb1f7(0xff)](passport['initialize']()),serverExpress['use'](passport[_0x3bb1f7(0x113)]());const storage=multer[_0x3bb1f7(0x12a)]({'destination':path[_0x3bb1f7(0x141)](__dirname,_0x3bb1f7(0xfc)),'filename':(_0x1e7aab,_0x27e16c,_0x13734c,_0x26259b)=>{const _0x5293ae=_0x3bb1f7;_0x13734c(null,uuid()+path[_0x5293ae(0x139)](_0x27e16c[_0x5293ae(0xe0)]));}});serverExpress[_0x3bb1f7(0xff)](multer({'storage':storage})[_0x3bb1f7(0x121)](_0x3bb1f7(0xf5))),serverExpress[_0x3bb1f7(0xff)]((_0x130748,_0x3d23ab,_0x54bfa0)=>{const _0x22befb=_0x3bb1f7;serverExpress[_0x22befb(0xfe)][_0x22befb(0xf1)]=_0x130748[_0x22befb(0x11b)](_0x22befb(0xf1)),serverExpress[_0x22befb(0xfe)][_0x22befb(0x124)]=_0x130748['flash']('message'),serverExpress[_0x22befb(0xfe)][_0x22befb(0x116)]=_0x130748['user'],serverExpress[_0x22befb(0xfe)][_0x22befb(0x112)]=_0x130748[_0x22befb(0x112)],serverExpress[_0x22befb(0xfe)]['pack_company']=0x0,serverExpress[_0x22befb(0xfe)][_0x22befb(0x142)]=0x0,_0x54bfa0();});const http=require(_0x3bb1f7(0x12b)),server=http[_0x3bb1f7(0x12c)](serverExpress),{Server}=require(_0x3bb1f7(0xed)),io=new Server(server),users={},connectedEmployees={},companyLimitsCache={},chat=require(_0x3bb1f7(0x108));io['on'](_0x3bb1f7(0xf8),async _0x4e6c86=>{const _0x5a075e=_0x3bb1f7;_0x4e6c86['on'](_0x5a075e(0x102),async(_0x5c8bb0,_0x3666d5)=>{const _0x2d3f93=_0x5a075e,_0x4ad293=connectedEmployees[_0x3666d5]||[],_0x4d52d4=_0x4ad293[_0x2d3f93(0x11c)](_0x3e1cad=>_0x3e1cad['userId']===_0x5c8bb0);if(_0x4d52d4){_0x4e6c86['emit'](_0x2d3f93(0x115),_0x2d3f93(0x128));return;}if(system!='desktop'){!companyLimitsCache[_0x3666d5]&&(companyLimitsCache[_0x3666d5]=await chat[_0x2d3f93(0x11e)](_0x3666d5));const _0x10f01d=companyLimitsCache[_0x3666d5];if(_0x4ad293[_0x2d3f93(0x119)]>=_0x10f01d){_0x4e6c86['emit'](_0x2d3f93(0x115),_0x2d3f93(0xf9));return;}}_0x4e6c86[_0x2d3f93(0xe2)]=_0x3666d5,_0x4ad293[_0x2d3f93(0x114)]({'userId':_0x5c8bb0,'socketId':_0x4e6c86['id']}),connectedEmployees[_0x3666d5]=_0x4ad293;const _0x39d9be=await chat[_0x2d3f93(0xe6)](_0x5c8bb0,0xa);io['to'](_0x5c8bb0)['emit'](_0x2d3f93(0xf6),{'notifications':_0x39d9be});});async function _0x52e21e(_0x4ef6d2){const _0xc0ed4d=_0x5a075e,_0x5b8b95=users[_0x4ef6d2];let _0x351935=_0x5b8b95;!_0x5b8b95&&(_0x351935=await chat[_0xc0ed4d(0x13d)](toUserId));const _0x539398={'canSend':_0x351935,'theUserIsConnect':_0x5b8b95};return _0x539398;}_0x4e6c86['on'](_0x5a075e(0x11d),async({userEmail:_0x4de3d6,toUserEmail:_0x2524a3,message:_0x4943c4})=>{const _0x82b08c=_0x5a075e,_0x3e8fec=await _0x52e21e(_0x2524a3);_0x3e8fec[_0x82b08c(0x13b)]?await chat[_0x82b08c(0x122)](_0x4de3d6,_0x2524a3,_0x4943c4)?(_0x3e8fec[_0x82b08c(0xd9)]&&io['to'](recipientSocketId)[_0x82b08c(0xe8)](_0x82b08c(0xd3),{'userId':userId,'message':_0x4943c4}),_0x4e6c86[_0x82b08c(0xe8)](_0x82b08c(0x131),{'success':!![],'message':'Mensaje\x20enviado\x20con\x20Ã©xito.\x20ðŸ‘Œ'})):_0x4e6c86[_0x82b08c(0xe8)](_0x82b08c(0x131),{'success':![],'message':_0x82b08c(0xf0)+_0x2524a3+_0x82b08c(0x135)}):_0x4e6c86[_0x82b08c(0xe8)](_0x82b08c(0x131),{'success':![],'message':'El\x20usuario\x20\x27'+_0x2524a3+_0x82b08c(0x105)});}),_0x4e6c86['on'](_0x5a075e(0x143),async({userEmail:_0x29ff11})=>{const _0x383af4=_0x5a075e,_0x29c80a=await chat[_0x383af4(0xe6)](_0x29ff11,0xa);io['to'](recipientSocketId)[_0x383af4(0xe8)](_0x383af4(0xf6),{'notifications':_0x29c80a});}),_0x4e6c86['on'](_0x5a075e(0x100),async({userId:_0x348a61,toUserId:_0x1963e2,message:_0x337dc8})=>{const _0x356ab9=_0x5a075e,_0x593aaa=users[_0x1963e2];let _0x248ddc=_0x593aaa;!_0x593aaa&&(_0x248ddc=await chat['this_email_exist'](_0x1963e2));if(_0x248ddc){const _0x495a78=await chat[_0x356ab9(0xef)](_0x348a61,_0x1963e2);await chat[_0x356ab9(0x106)](_0x495a78,_0x348a61,_0x337dc8)&&(_0x593aaa&&io['to'](_0x593aaa)[_0x356ab9(0xe8)](_0x356ab9(0xd3),{'userId':_0x348a61,'message':_0x337dc8})),_0x4e6c86[_0x356ab9(0xe8)](_0x356ab9(0x131),{'success':!![],'message':'Mensaje\x20enviado\x20con\x20Ã©xito'});}else _0x4e6c86[_0x356ab9(0xe8)](_0x356ab9(0x131),{'success':![],'message':_0x356ab9(0xd7)+_0x1963e2+_0x356ab9(0x10d)});}),_0x4e6c86['on'](_0x5a075e(0x10f),()=>{const _0xed9cc6=_0x5a075e,{companyId:_0x436642}=_0x4e6c86;_0x436642&&connectedEmployees[_0x436642]?(connectedEmployees[_0x436642]=connectedEmployees[_0x436642][_0xed9cc6(0xdf)](_0x3a965a=>_0x3a965a['socketId']!==_0x4e6c86['id']),connectedEmployees[_0x436642][_0xed9cc6(0x119)]===0x0&&delete connectedEmployees[_0x436642]):console[_0xed9cc6(0xfb)](_0xed9cc6(0xee)+_0x4e6c86['id']+_0xed9cc6(0x101));}),_0x4e6c86['on'](_0x5a075e(0xeb),_0x2b2df8=>{const _0x515a3a=_0x5a075e;console[_0x515a3a(0xfb)](_0x515a3a(0xfa),_0x2b2df8),_0x4e6c86['broadcast'][_0x515a3a(0xe8)](_0x515a3a(0x133),_0x2b2df8);});});const companyName=_0x3bb1f7(0x12e);serverExpress[_0x3bb1f7(0xff)](require('./router')),serverExpress[_0x3bb1f7(0xff)](require(_0x3bb1f7(0xe4))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0xf2))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x10b))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0xda))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0xd5))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x13a))),serverExpress[_0x3bb1f7(0xff)](companyName,require('./router/links/store')),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x118))),serverExpress[_0x3bb1f7(0xff)](companyName,require('./router/links/app')),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x111))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x136))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0xd4))),serverExpress[_0x3bb1f7(0xff)](companyName,require(_0x3bb1f7(0x138))),serverExpress['use'](require(_0x3bb1f7(0x117))),serverExpress[_0x3bb1f7(0xff)](express[_0x3bb1f7(0xd2)](path[_0x3bb1f7(0x141)](__dirname,_0x3bb1f7(0x134))));const os=require('os');function getLocalIP(){const _0x2ad6ce=_0x3bb1f7,_0x483c34=os['networkInterfaces']();for(let _0x3ef78c in _0x483c34){for(let _0x3b424d=0x0;_0x3b424d<_0x483c34[_0x3ef78c][_0x2ad6ce(0x119)];_0x3b424d++){const _0x205fcd=_0x483c34[_0x3ef78c][_0x3b424d];if(_0x205fcd[_0x2ad6ce(0x120)]===_0x2ad6ce(0x126)&&!_0x205fcd[_0x2ad6ce(0xe5)])return _0x205fcd[_0x2ad6ce(0x12d)];}}return _0x2ad6ce(0x109);}function _0x59b3(){const _0x3bac5b=['messageStatus','596xrVvpc','newNotification','public','\x27.\x20IntÃ©ntalo\x20de\x20nuevo.\x20ðŸ˜³','./router/links/desktop','main','./router/links/cashCut','extname','./router/links/subscription','canSend','engine','this_email_exist','connect-flash','express-recaptcha','119760NAWhjT','join','pack_branch','getTheFirstTenNotifications','multer','static','privateMessage','./router/links/boutique','./router/links/branch','Server\x20running\x20on\x20http://','Este\x20email\x20\x27','env','theUserIsConnect','./router/links/ceo','morgan','layouts','999pWTJCy','express-session','filter','originalname','0.0.0.0','companyId','connect-pg-simple','./router/authentication','internal','get_the_first_notification','dotenv','emit','dev','partials','sendNotification','20728JTiRMZ','socket.io','Socket\x20','create_new_chat','No\x20pudimos\x20enviar\x20el\x20mensaje\x20al\x20usuario\x20\x27','success','./router/links','views','1001844QiQgOH','image','privateNotifications','3570231fZQjYi','connection','Ups,\x20parece\x20que\x20alcanzaste\x20tu\x20lÃ­mite\x20de\x20dispositivos\x20conectados.\x20Por\x20favor,\x20actualiza\x20tu\x20membresÃ­a.','Nueva\x20notificaciÃ³n:','log','public/img/uploads','express','locals','use','sendMessageToUser','\x20desconectado,\x20pero\x20no\x20estaba\x20asociado\x20a\x20ninguna\x20empresa.','registerUser','listen','config','\x27\x20no\x20existe.\x20ðŸ¤”','send_new_message','140OvTbtR','./services/chat.js','127.0.0.1','FudSession','./router/links/fudone','get','\x27\x20no\x20existe\x20ðŸ¤”','urlencoded','disconnect','set','./router/links/CRM','company','session','push','connectionRejected','user','./lib/addFrom','./router/links/delivery','length','2999946NZwakL','flash','some','sendNotificationToUser','get_max_employee_of_this_company','PORT','family','single','create_notification','port','message','10958888oaHcwW','IPv4','uuid','Ups,\x20parece\x20que\x20ya\x20estÃ¡s\x20conectado\x20en\x20otro\x20dispositivo.','./keys','diskStorage','http','createServer','address','/links','.hbs','2044RvWjKY'];_0x59b3=function(){return _0x3bac5b;};return _0x59b3();}serverExpress[_0x3bb1f7(0x103)](serverExpress[_0x3bb1f7(0x10c)](_0x3bb1f7(0x123)),_0x3bb1f7(0xe1),()=>{const _0x4f4896=_0x3bb1f7;console['log'](_0x4f4896(0xd6)+getLocalIP()+':'+serverExpress[_0x4f4896(0x10c)](_0x4f4896(0x123)));});